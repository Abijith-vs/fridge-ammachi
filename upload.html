<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Upload Fridge Image - Fridge Whisperer Ammachi</title>
<link rel="stylesheet" href="upload-style.css" />
</head>
<body>

  <h1>Upload Your Fridge Image</h1>
  <input type="file" id="fridge-image" accept="image/*" />
  <button id="detect-btn" class="action-btn">Detect Ingredients</button>

  <div class="ammachi-popup" id="ammachi-popup">
    <div id="popup-text"></div>
    <button class="close-popup-btn" id="close-popup">Okay Ammachi</button>
  </div>

<script>
  const popup = document.getElementById('ammachi-popup');
  const popupText = document.getElementById('popup-text');
  const closeBtn = document.getElementById('close-popup');
  const detectBtn = document.getElementById('detect-btn');
  const fileInput = document.getElementById('fridge-image');

  // Sample sarcastic dialogues in Manglish
  const ammachisLines = [
    "Dharidhryam, poyi kanji indakeda!",
    "Evideya ee fridge? Oru chodyam alle?",
    "Onnum illa, ente veettil aanu oru sadhyam.",
    "Ippo poyi pazhaya curry undakkam.",
    "Innale shopping cheythilla alle?",
  ];

  detectBtn.addEventListener('click', () => {
    if (!fileInput.files.length) {
      alert('Please upload an image first!');
      return;
    }

    // Simulate image detection delay
    detectBtn.disabled = true;
    detectBtn.textContent = 'Detecting...';

    setTimeout(() => {
      detectBtn.disabled = false;
      detectBtn.textContent = 'Detect Ingredients';

      // Pick a random Ammachi line
      const randomLine = ammachisLines[Math.floor(Math.random() * ammachisLines.length)];
      popupText.textContent = randomLine;

      // Show the popup
      popup.style.display = 'block';
    }, 1500);
  });

  closeBtn.addEventListener('click', () => {
    popup.style.display = 'none';
  });
</script>

</body>
</html>
